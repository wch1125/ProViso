import{j as e}from"./index-BQHo3lY-.js";import{r as N}from"./vendor-react-C-GM1j7h.js";import{d,X as b,t as v,m as w,p as y,a3 as m,C as _,y as S,aj as h,ak as C,a5 as k,V as A,F as u}from"./vendor-icons-SDImLkab.js";const $="animate-pulse bg-surface-3/50 rounded",z={text:{className:"h-4 rounded",defaultSize:{width:"100%"}},card:{className:"rounded-xl",defaultSize:{width:"100%",height:"200px"}},chart:{className:"rounded-lg",defaultSize:{width:"100%",height:"300px"}},"list-item":{className:"h-16 rounded-lg",defaultSize:{width:"100%"}},avatar:{className:"rounded-full",defaultSize:{width:"40px",height:"40px"}},button:{className:"h-10 rounded-lg",defaultSize:{width:"100px"}}};function n({variant:t="text",count:s=1,className:r="",width:i,height:a}){var x,o;const l=z[t],g=i||((x=l.defaultSize)==null?void 0:x.width),j=a||((o=l.defaultSize)==null?void 0:o.height),c=Array.from({length:s},(E,p)=>e.jsx("div",{className:`${$} ${l.className} ${r}`,style:{width:g,height:j}},p));return s===1?c[0]:e.jsx("div",{className:"space-y-3",children:c})}function I({className:t=""}){return e.jsxs("div",{className:`bg-surface-0/50 border border-surface-2 rounded-xl p-5 ${t}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(n,{variant:"avatar"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(n,{width:"60%",height:"16px"}),e.jsx(n,{width:"40%",height:"12px"})]})]}),e.jsx(n,{variant:"text",count:3})]})}function R({height:t="300px"}){return e.jsxs("div",{className:"bg-surface-0/50 border border-surface-2 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(n,{width:"150px",height:"20px"}),e.jsx(n,{width:"80px",height:"16px"})]}),e.jsx(n,{variant:"chart",height:t})]})}const F={deal_created:e.jsx(u,{className:"w-4 h-4"}),deal_updated:e.jsx(h,{className:"w-4 h-4"}),version_created:e.jsx(u,{className:"w-4 h-4"}),version_sent:e.jsx(A,{className:"w-4 h-4"}),condition_satisfied:e.jsx(k,{className:"w-4 h-4"}),condition_waived:e.jsx(C,{className:"w-4 h-4"}),document_uploaded:e.jsx(m,{className:"w-4 h-4"}),signature_received:e.jsx(h,{className:"w-4 h-4"}),financial_updated:e.jsx(S,{className:"w-4 h-4"}),simulation_run:e.jsx(_,{className:"w-4 h-4"}),file_loaded:e.jsx(m,{className:"w-4 h-4"}),covenant_alert:e.jsx(y,{className:"w-4 h-4"})},T={deal_created:"bg-success/10 text-success",deal_updated:"bg-gold-500/10 text-gold-500",version_created:"bg-gold-500/10 text-gold-500",version_sent:"bg-gold-500/10 text-gold-500",condition_satisfied:"bg-success/10 text-success",condition_waived:"bg-warning/10 text-warning",document_uploaded:"bg-gold-500/10 text-gold-500",signature_received:"bg-success/10 text-success",financial_updated:"bg-gold-500/10 text-gold-500",simulation_run:"bg-purple-500/10 text-purple-400",file_loaded:"bg-gold-500/10 text-gold-500",covenant_alert:"bg-danger/10 text-danger"};function D(t){const r=new Date().getTime()-t.getTime(),i=Math.floor(r/6e4),a=Math.floor(i/60),l=Math.floor(a/24);return i<1?"Just now":i<60?`${i} min ago`:a<24?`${a} hour${a>1?"s":""} ago`:l<7?`${l} day${l>1?"s":""} ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function f({activity:t}){return e.jsxs("div",{className:"flex items-start gap-3 py-3 border-b border-border-DEFAULT last:border-0",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${T[t.type]}`,children:F[t.type]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:t.title}),e.jsx("span",{className:"text-xs text-text-muted flex-shrink-0",children:D(t.timestamp)})]}),t.description&&e.jsx("p",{className:"text-sm text-text-tertiary truncate mt-0.5",children:t.description})]})]})}function H({defaultExpanded:t=!1,...s}){const[r,i]=N.useState(t);return e.jsxs("div",{className:`bg-surface-1 border border-border-DEFAULT rounded-xl ${s.className}`,children:[e.jsxs("button",{onClick:()=>i(!r),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-surface-3/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 text-text-tertiary"}),e.jsx("span",{className:"text-sm font-medium text-text-primary",children:s.title??"Recent Activity"}),s.activities.length>0&&e.jsx("span",{className:"text-xs text-text-muted bg-surface-3 px-1.5 py-0.5 rounded",children:s.activities.length})]}),r?e.jsx(v,{className:"w-4 h-4 text-text-tertiary"}):e.jsx(w,{className:"w-4 h-4 text-text-tertiary"})]}),r&&e.jsx("div",{className:"border-t border-border-DEFAULT",children:e.jsx("div",{className:"px-4",children:s.activities.length===0?e.jsx("div",{className:"py-6 text-center",children:e.jsx("p",{className:"text-sm text-text-muted",children:"No recent activity"})}):s.activities.slice(0,s.maxItems??10).map(a=>e.jsx(f,{activity:a},a.id))})})]})}function P({isOpen:t,onClose:s,activities:r,onClear:i}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:s}),e.jsxs("div",{className:"fixed right-0 top-0 bottom-0 w-96 bg-surface-0 border-l border-surface-2 z-50 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-border-DEFAULT",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5 text-text-tertiary"}),e.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Activity Feed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&r.length>0&&e.jsx("button",{onClick:i,className:"text-xs text-text-tertiary hover:text-text-primary px-2 py-1 rounded hover:bg-surface-2 transition-colors",children:"Clear all"}),e.jsx("button",{onClick:s,className:"p-1 rounded-lg text-text-tertiary hover:text-text-primary hover:bg-surface-2 transition-colors",children:e.jsx(b,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"overflow-y-auto h-[calc(100vh-65px)]",children:r.length===0?e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(d,{className:"w-12 h-12 text-slate-700 mx-auto mb-3"}),e.jsx("p",{className:"text-text-muted",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Actions you take will appear here"})]}):e.jsx("div",{className:"px-4",children:r.map(a=>e.jsx(f,{activity:a},a.id))})})]})]}):null}export{P as A,H as C,I as S,n as a,R as b};
